\hypertarget{message_8cpp}{\section{process/message.cpp File Reference}
\label{message_8cpp}\index{process/message.\-cpp@{process/message.\-cpp}}
}
{\ttfamily \#include $<$vector$>$}\\*
{\ttfamily \#include $<$iostream$>$}\\*
{\ttfamily \#include $<$msgpack.\-hpp$>$}\\*
Include dependency graph for message.\-cpp\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=289pt]{message_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{message_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{main} (void)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{message_8cpp_a840291bc02cba5474a4cb46a9b9566fe}{\index{message.\-cpp@{message.\-cpp}!main@{main}}
\index{main@{main}!message.cpp@{message.\-cpp}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{message_8cpp_a840291bc02cba5474a4cb46a9b9566fe}

\begin{DoxyCode}
5                \{
6     \textcolor{comment}{// This is target object.}
7     std::vector<std::string> target;
8     target.push\_back(\textcolor{stringliteral}{"Hello,"});
9     target.push\_back(\textcolor{stringliteral}{"World!"});
10 
11     \textcolor{comment}{// Serialize it.}
12     msgpack::sbuffer sbuf;  \textcolor{comment}{// simple buffer}
13     msgpack::pack(&sbuf, target);
14 
15     \textcolor{comment}{// Deserialize the serialized data.}
16     msgpack::unpacked msg;    \textcolor{comment}{// includes memory pool and deserialized object}
17     msgpack::unpack(&msg, sbuf.data(), sbuf.size());
18     msgpack::object obj = msg.get();
19 
20     \textcolor{comment}{// Print the deserialized object to stdout.}
21     std::cout << obj << std::endl;    \textcolor{comment}{// ["Hello," "World!"]}
22 
23     \textcolor{comment}{// Convert the deserialized object to staticaly typed object.}
24     std::vector<std::string> result;
25     obj.convert(&result);
26 
27     \textcolor{comment}{// If the type is mismatched, it throws msgpack::type\_error.}
28     obj.as<\textcolor{keywordtype}{int}>();  \textcolor{comment}{// type is mismatched, msgpack::type\_error is thrown}
29 \}
\end{DoxyCode}
